<!-- 搜索栏 -->
<view class="search">
  <input placeholder="检查点名称/详细地址" type='text' confirm-type='search' bindinput="search" bindconfirm="searchOk" value="{{searchValue}}"></input>
  <image src="../../assets/check/search.png" />
  <view class="line"></view>
</view>
<view class="function">
  <!-- 筛选 -->
  <view class="filter-tab">
    <text bindtap="setFilterPanel" data-findex="1" class="{{showfilterindex==1?'active':''}}">类别</text>
    <text bindtap="setFilterPanel" data-findex="2" class="{{showfilterindex==2?'active':''}}">区域</text>
    <text bindtap="setFilterPanel" data-findex="3" class="{{showfilterindex==3?'active':''}}">排序</text>
  </view>
  <!-- 筛选下拉 -->
  <view class="filter-content" wx:if="{{showfilter}}">
    <view class="filter-panel" wx:if="{{showfilterindex==1}}">
      <view class="filter-panel-left">
        <view wx:for="{{category}}" wx:key="{{item.id}}" bindtap="setCateIndex" data-cateindex="{{index}}" data-cateid="{{item.id}}" class="{{cateindex==index?'active':''}}">{{item.title}}</view>
      </view>
      <view class="filter-panel-right">
        <view wx:for="{{category[cateindex].cate_two}}" wx:key="{{item.id}}" bindtap="setSubcateIndex" data-subcateindex="{{index}}" data-subcateid="{{item.id}}" class="{{subcateindex==index?'active':''}}">{{item.title}}</view>
      </view>
    </view>
    <view class="filter-panel" wx:if="{{showfilterindex==2}}">
      <view class="filter-panel-left">
        <view wx:for="{{area}}" wx:key="{{item.id}}" bindtap="setAreaIndex" data-areaindex="{{index}}" data-areaid="{{item.id}}" class="{{areaindex==index?'active':''}}">{{item.name}}</view>
      </view>
      <view class="filter-panel-right">
        <view wx:for="{{zone}}" wx:key="{{item.id}}" bindtap="setSubareaIndex" data-subareaindex="{{index}}" data-subareaid="{{item.id}}" class="{{subareaindex==index?'active':''}}">{{item.name}}</view>
      </view>
    </view>
    <view class="filter-panel" wx:if="{{showfilterindex==3}}">
      <view class="filter-panel-left">
        <view wx:for="{{sort}}" wx:key="{{item.id}}" bindtap="setSortIndex" data-sortindex="{{index}}" data-sortid="{{item.id}}" class="{{sortindex==index?'active':''}}">{{item.name}}</view>
      </view>
    </view>
  </view>
  <view class="filter-shadow" wx:if="{{showfilter}}" bindtap="hideFilter"></view>
</view>



<!-- 内容布局 -->
<view class='swiperTtemBox'>
  <view class="card" wx:for="{{list}}" wx:key="key">
    <view class="title">{{item.name}}</view>
    <view class="area">{{item.checkAreaOrgName}}-{{item.checkStreetOrgName}}</view>
    <view class="location">{{item.address}}</view>
    <view class="checkNum">已检查{{item.checkCount}}次</view>
    <view class="buttons">
      <view class="button" bindtap="getLocation" data-name="{{item.name}}" data-latitude="{{item.latitude}}" data-longitude="{{item.longitude}}">导航</view>
      <navigator url='../fillReport/index?checkPointId={{item.id}}&categoryCode={{item.categoryCode}}&streetOrgCode={{item.streetOrgCode}}'>
        <view class="button">填报</view>
      </navigator>
    </view>
    <view class="distance">距离{{item.distance}}km</view>
  </view>
  <!-- <view class="card">
      <view class="title">慈溪市逍林多佑食品店</view>
      <view class="area">慈溪市-逍林镇</view>
      <view class="location">水云浦水云路27号</view>
      <view class="checkNum">已检查2次</view>
      <view class="buttons">
        <view class="button">导航</view>
        <view class="button">填报</view>
      </view>
      <view class="distance">距离1.6km</view>
    </view> -->
</view>
<view class='placeholder-view' style="height:{{height}}rpx;width: 100%;"></view>
<view class="container">
  <van-dialog id="van-dialog" confirm-button-color="#3161FF" />
</view>